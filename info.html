<!DOCTYPE html>
<html lang="en">
<head>
  <title>MYOB SafetyCheck</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--jQuery Script-->
  <script src="./js/jquery.js"></script>
  <!--Bootstrap Script-->
  <script src="./js/bootstrap.js"></script>
  <link rel="stylesheet" href="./css/bootstrap.css">
  <style>
    #wkslist {
        list-style-type: none;
        padding: 0;
    }
    .state-icon {
    left: -5px;
    }
    .list-group-item-primary {
    color: rgb(255, 255, 255);
    background-color: rgb(66, 139, 202);
    }

  .container-fluid {
      padding-top: 1%;
      padding-bottom: 1%;
  }
  .wizard {
    margin: 20px auto;
    background: #fff;
}
    .wizard .nav-tabs {
        position: relative;
        margin: 40px auto;
        margin-bottom: 0;
        border-bottom-color: #e0e0e0;
    }

    .wizard > div.wizard-inner {
        position: relative;
    }
    .wizard-small {
    margin: 5px auto;
    background: #fff;
}

.connecting-line {
    height: 2px;
    background: #e0e0e0;
    position: absolute;
    width: 80%;
    margin: 0 auto;
    left: 0;
    right: 0;
    top: 50%;
    z-index: 1;
}

.wizard .nav-tabs > li.active > a, .wizard .nav-tabs > li.active > a:hover, .wizard .nav-tabs > li.active > a:focus {
    color: #e95420;
    cursor: default;
    border: 0;
    border-bottom-color: transparent;
}

span.round-tab {
    width: 70px;
    height: 70px;
    line-height: 70px;
    display: inline-block;
    border-radius: 100px;
    background: #fff;
    border: 2px solid #e0e0e0;
    z-index: 2;
    position: absolute;
    left: 0;
    text-align: center;
    font-size: 25px;
}
span.round-tab i{
    color:#555555;
}
.wizard li.active span.round-tab {
    background: #fff;
    border: 2px solid #5bc0de;
    
}
.wizard li.active span.round-tab i{
    color: #5bc0de;
}

span.round-tab:hover {
    color: #333;
    border: 2px solid #333;
}

.wizard .nav-tabs > li {
    width: 20%;
}

.wizard li:after {
    content: " ";
    position: absolute;
    left: 46%;
    opacity: 0;
    margin: 0 auto;
    bottom: 0px;
    border: 5px solid transparent;
    border-bottom-color: #5bc0de;
    transition: 0.1s ease-in-out;
}

.wizard li.active:after {
    content: " ";
    position: absolute;
    left: 46%;
    opacity: 1;
    margin: 0 auto;
    bottom: 0px;
    border: 10px solid transparent;
    border-bottom-color: #5bc0de;
}

.wizard .nav-tabs > li a {
    width: 70px;
    height: 70px;
    margin: 20px auto;
    border-radius: 100%;
    padding: 0;
}

    .wizard .nav-tabs > li a:hover {
        background: transparent;
    }

.wizard .tab-pane {
    position: relative;
    padding-top: 50px;
}

.wizard h3 {
    margin-top: 0;
}

@media( max-width : 585px ) {

    .wizard {
        width: 90%;
        height: auto !important;
    }

    span.round-tab {
        font-size: 16px;
        width: 50px;
        height: 50px;
        line-height: 50px;
    }

    .wizard .nav-tabs > li a {
        width: 50px;
        height: 50px;
        line-height: 50px;
    }

    .wizard li.active:after {
        content: " ";
        position: absolute;
        left: 35%;
    }
    .btn-file {
    position: relative;
    overflow: hidden;
}
.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 50%;
    min-height: 50%;
    font-size: 100px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}

#img-upload{
    width: 50%;
}
}
  </style>
  <script>
  $(document).ready(function () {
    //Initialize tooltips
    $('.nav-tabs > li a[title]').tooltip();
    
    //Wizard
    $('a[data-toggle="tab"]').on('show.bs.tab', function (e) {

        var $target = $(e.target);
    
        if ($target.parent().hasClass('disabled')) {
            return false;
        }
    });

    $(".next-step").click(function (e) {

        var $active = $('.wizard .nav-tabs li.active');
        $active.next().removeClass('disabled');
        nextTab($active);

    });
    $(".prev-step").click(function (e) {

        var $active = $('.wizard .nav-tabs li.active');
        prevTab($active);

    });
});

function nextTab(elem) {
    $(elem).next().find('a[data-toggle="tab"]').click();
}
function prevTab(elem) {
    $(elem).prev().find('a[data-toggle="tab"]').click();
}</script>
</head>
<body>

<!-- First Container -->
<div class="container-fluid bg-1 text-center">
  <div class="container">
	<div class="row">
		<section>
        <div class="wizard">
            <div class="wizard-inner">
                <div class="connecting-line"></div>
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active">
                        <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-info-sign"></i>
                            </span>
                        </a>
                    </li>

                    <li role="presentation" class="disabled">
                        <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-picture"></i>
                            </span>
                        </a>
                    </li>

                    <li role="presentation" class="disabled">
                        <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-warning-sign"></i>
                            </span>
                        </a>
                    </li>
                    <li role="presentation" class="disabled">
                        <a href="#step4" data-toggle="tab" aria-controls="step4" role="tab" title="Step 4">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon glyphicon-star"></i>
                            </span>
                        </a>
                    </li>

                    <li role="presentation" class="disabled">
                        <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-ok"></i>
                            </span>
                        </a>
                    </li>
                </ul>
            </div>

            <form role="form">
                <div class="tab-content">
                    <div class="tab-pane active" role="tabpanel" id="step1">
                        <h3>Organisation Details</h3>
                        <p>Tell us a bit about your business so we can suggest relevant hazards and risks</p>
                        <div class="row clearfix"></div>
		<div class="col-md-12" style="margin-bottom: 10px;">
               
<form class="form-horizontal">
<fieldset>

<!-- Search input-->
<div class="form-group">
  <label class="col-md-5 control-label" for="orgname">Name of the Organisation</label>
  <div class="col-md-5">
    <input id="orgname" type="text" placeholder="e.g. John's Plumbing" class="form-control input-md">
    <span class="help-block"></span>
  </div>
</div>

<!-- Text input-->
<div class="form-group">
  <label class="col-md-5 control-label" for="industry">Industry</label>
  <div class="col-md-5">
    <select id="industry" class="form-control">
      <option value="1">Cafe</option>
      <option value="2">Petrol Station</option>
      <option value="3">Hairdresser</option>
      <option value="4">Office</option>
    </select>
    <span class="help-block"></span>
  </div>
</div>

<!-- Password input-->
<div class="form-group">
  <label class="col-md-5 control-label" for="name">Name of Duty Holder</label>
  <div class="col-md-5">
    <input id="name" type="text" placeholder="e.g. John Appleseed" class="form-control input-md">
    <span class="help-block"></span>
  </div>
</div>

<div class="form-group">
  <label class="col-md-5 control-label" for="passwordinput">Number of Employees</label>
  <div class="col-md-1">
    <input id="employeenum" type="number" placeholder="" class="form-control input-md" required="">
    <span class="help-block"></span>
  </div>
</div>

</fieldset>
</form>
		</div>
<button type="button" onclick="getHazard('Hazards', industry.value)" class="padding-top btn btn-primary next-step">Save and continue</button>
                    </div>
<!-- Image Upload -->
<script>
$(document).ready( function() {
    	$(document).on('change', '.btn-file :file', function() {
		var input = $(this),
			label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
		input.trigger('fileselect', [label]);
		});

		$('.btn-file :file').on('fileselect', function(event, label) {
		    
		    var input = $(this).parents('.input-group').find(':text'),
		        log = label;
		    
		    if( input.length ) {
		        input.val(log);
		    } else {
		        if( log ) alert(log);
		    }
	    
		});
		function readURL(input) {
		    if (input.files && input.files[0]) {
		        var reader = new FileReader();
		        
		        reader.onload = function (e) {
		            $('#img-upload').attr('src', e.target.result);
		        }
		        
		        reader.readAsDataURL(input.files[0]);
		    }
		}

		$("#imgInp").change(function(){
		    readURL(this);
		}); 	
	});
    </script>
                    <div class="tab-pane" role="tabpanel" id="step2">
                        <h3>Upload and Risk Suggestions</h3>
                        <p>Using Azure computer vision technology, we will attempt to identify risks based on photos of your organisation</p>
                        <!-- Photo Upload Part -->
                        <div class="form-group">
                <label class="btn btn-primary btn-info-full">
                    Upload photo <input type="file" id="imgInp" style="display:none;">
                </label>
        <img id='img-upload'/>
    </div>
    <!--/photo upload -->
                        <ul class="list-inline">
                            <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
                            <li><button type="button" class="btn btn-primary btn-info-full next-step">Save and continue</button></li>
                        </ul>
                    </div>
<!-- Image Upload Pane End -->

    <!-- Hazard ID Pane -->
    <div class="tab-pane" role="tabpanel" id="step3">
    <h3>Hazard Identification</h3>
    <p>Our AI thinks the following things are possibly a hazard in your business... <br>
    This doesn't necesssarily a comprehensive list so please think of any more than are applicable</p>
    <!---Nested Scroll Here-->
                        
    <div class="container">
    <div class="row"> <!--clearfix">-->
    <!--Hazard Checkboxes-->
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-sm-offset-1">
                    <h3>Industry Hazards</h3>
                    <div id="hzrdList" class="list-group"></div>
                </div>
                <div class="col-md-2 v-center">
                    <button type="button" title="Send to Your Hazard List" class="btn btn-default center-block add"><i class="glyphicon glyphicon-chevron-right"></i></button>
                    <button type="button" title="Send to Hazard List" class="btn btn-default center-block remove"><i class="glyphicon glyphicon-chevron-left"></i></button>
                </div>
                <div class="col-sm-4">
                    <h3>Your Hazards</h3>
                    <div id="finalHzrdList" class="list-group"></div>
                </div>
            </div>
        </div>
	</div>
</div>
<ul class="list-inline">
    <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
    <script>function getHazardList() {
                var items = document.getElementById("finalHzrdList").children;
                var list = [];
                for (var i = 0; i < items.length; i++) {
                    list.push(items[i].getAttribute("name"));
                }
                return JSON.stringify(list);
    }</script>
    <li><button type="button" onclick="getRisk('Risks', getHazardList())" class="btn btn-primary next-step">Save and continue</button></li>
</ul>
</div>
<div class="tab-pane" role="tabpanel" id="step4">
    <h3>Risk Management</h3>
    <p>Our AI thinks the following strategies apply to your hazards... <br>Please evaluate these carefully so that you are ensuring legal compliance! Check the <a href="http://www.worksafe.govt.nz">Worksafe Site</a> for more details!</p>
    <div class="container">
        <div class="row clearfix">
            <div class="col-md-12 column">
                <ol id="riskList" class="list-group">
                    
                </ol>
            </div>
        </div>
    </div>
    <ul class="list-inline">
        <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
        <li><button type="button" class="btn btn-primary btn-info-full next-step">Save and continue</button></li>
    </ul>
</div>

                    <div class="tab-pane" role="tabpanel" id="complete">
                        <h3>All done!</h3>
                        <p>Now that your details, hazards and risks have been profiled, you can access your SafetyCheck Dashboard and download your health and safety plan</p>
                        <a href="dashboard.html" role="button" class="btn btn-primary btn-info-full">Go to Dashboard</a>
                    </div>

                    <div class="clearfix"></div>
                </div>
            </form>
        </div>
    </section>
   </div>
</div>
</div>
<script id="source" language="javascript" type="text/javascript" src="./js/main.js"></script>
<script id="source" language="javascript" type="text/javascript" src="./js/checkedListGroup.js"></script>

</body>
</html>
